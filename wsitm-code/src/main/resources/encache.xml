<?xml version="1.0" encoding="UTF-8"?>
<ehcache>
    <!--
        磁盘的缓存位置
            磁盘存储:将缓存中暂时不使用的对象,转移到硬盘,类似于Windows系统的虚拟内存
            path:指定在硬盘上存储对象的路径
                可以配置的目录有：
                    user.home（用户的家目录）
                    user.dir（用户当前的工作目录）
                    java.io.tmpdir（默认的临时目录）
                    ehcache.disk.store.dir（ehcache 的配置目录）
                    绝对路径（如：d:\\ehcache）
                查看路径方法：String tmpDir = System.getProperty("java.io.tmpdir");
     -->
    <diskStore path="config/ehcache/data"/>

    <!--默认缓存-->
    <!--
        defaultCache：默认缓存策略，当 ehcache 找不到定义的缓存时，则使用这个缓存策略。只能定义一个。
     -->
    <defaultCache
            maxEntriesLocalHeap="10000"
            eternal="false"
            timeToIdleSeconds="120"
            timeToLiveSeconds="120"
            maxEntriesLocalDisk="10000000"
            diskExpiryThreadIntervalSeconds="120"
            memoryStoreEvictionPolicy="LRU">
        <persistence strategy="localTempSwap"/>
    </defaultCache>

    <!--userCache 缓存-->
    <!--
        name:缓存名称。
        maxElementsInMemory:缓存最大数目
        maxElementsOnDisk：硬盘最大缓存个数。
        eternal:对象是否永久有效，一但设置了，timeout 将不起作用。
        overflowToDisk: 如果内存中数据超过内存限制，是否要缓存到磁盘上
        timeToIdleSeconds:设置对象在失效前的允许闲置时间（单位：秒）。仅当 eternal=false 对象不是永久有效时使用，可选属性，默认值是 0，也就是可闲置时间无穷大。
        timeToLiveSeconds:设置对象在失效前允许存活时间（单位：秒）。最大时间介于创建时间和失效时间之间。仅当 eternal=false 对象不是永久有效时使用，
                          默认是 0.，也就是对象存活时间无穷大。
        diskPersistent： 是否在磁盘上持久化。指重启jvm后，数据是否有效。默认为false
        diskSpoolBufferSizeMB：这个参数设置 DiskStore（磁盘缓存）的缓存区大小。默认是 30MB。每个 Cache 都应该有自己的一个缓冲区。
        diskExpiryThreadIntervalSeconds：磁盘失效线程运行时间间隔，默认是120 秒。
        memoryStoreEvictionPolicy：当达到 maxElementsInMemory 限制时，Ehcache 将会根据指定的策略去清理内存。默认策略是 LRU（最近最少使用）。你可以设置为 FIFO（先进先出）或是 LFU（较少使用）。
        clearOnFlush：内存数量最大时是否清除。
        memoryStoreEvictionPolicy:可选策略有：LRU（最近最少使用，默认策略）、FIFO（先进先出）、LFU（最少访问次数）。
        FIFO，first in first out，这个是大家最熟的，先进先出。
        LFU， Less Frequently Used，就是上面例子中使用的策略，直白一点就是讲一直以来最少被使用的。如上面所讲，缓存的元素有一个 hit 属性，hit 值最小的将
                                   会被清出缓存。
        LRU，Least Recently Used，最近最少使用的，缓存的元素有一个时间戳，当缓存容量满了，而又需要腾出地方来缓存新的元素的时候，那么现有缓存元素中时间戳
                                  离当前时间最远的元素将被清出缓存。
    -->
    <cache name="info"
           maxElementsInMemory="1000"
           eternal="true"
           overflowToDisk="false"
           memoryStoreEvictionPolicy="LRU"/>

    <cache name="data-loading"
           maxElementsInMemory="10000"
           eternal="true"
           overflowToDisk="true"
           memoryStoreEvictionPolicy="LRU"/>

    <cache name="data-history"
           maxElementsInMemory="100"
           maxElementsOnDisk="100000"
           eternal="true"
           overflowToDisk="true"
           diskPersistent="true"
           diskExpiryThreadIntervalSeconds="60"
           memoryStoreEvictionPolicy="LRU"/>

    <cache name="data-metainfo"
           maxElementsInMemory="100"
           maxElementsOnDisk="100000"
           eternal="true"
           overflowToDisk="true"
           diskPersistent="true"
           diskExpiryThreadIntervalSeconds="60"
           memoryStoreEvictionPolicy="LRU"/>
</ehcache>
